document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("resizer"),t=document.getElementById("editor-pane"),n=document.getElementById("main-content"),o=localStorage.getItem("fotg-pane-width");o&&(t.style.flex=`0 0 ${o}px`);let d=!1;e.addEventListener("mousedown",e=>{d=!0,document.body.style.cursor="col-resize",t.style.userSelect="none",t.style.pointerEvents="none",document.getElementById("preview-pane").style.userSelect="none",document.getElementById("preview-pane").style.pointerEvents="none"}),document.addEventListener("mousemove",e=>{if(!d)return;const o=n.clientWidth-200;let s=e.clientX;s<200&&(s=200),s>o&&(s=o),t.style.flex=`0 0 ${s}px`}),document.addEventListener("mouseup",()=>{if(d){d=!1,document.body.style.cursor="",t.style.userSelect="",t.style.pointerEvents="",document.getElementById("preview-pane").style.userSelect="",document.getElementById("preview-pane").style.pointerEvents="";const e=t.getBoundingClientRect().width;localStorage.setItem("fotg-pane-width",e)}}),e.addEventListener("touchstart",e=>{d=!0},{passive:!0}),document.addEventListener("touchmove",e=>{if(!d)return;const o=n.clientWidth-100;let s=e.touches[0].clientX;s<100&&(s=100),s>o&&(s=o),t.style.flex=`0 0 ${s}px`},{passive:!0}),document.addEventListener("touchend",()=>{if(d){d=!1;const e=t.getBoundingClientRect().width;localStorage.setItem("fotg-pane-width",e)}})});